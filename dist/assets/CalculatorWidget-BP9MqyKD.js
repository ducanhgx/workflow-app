import{c as I,j as t,r as p,B as x,P as B,T as O,F as P,S as W,I as q,G as u,x as j}from"./index-BKu_MKXj.js";const E=I(t.jsx("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12z"})),D=({widget:h})=>{const[n,c]=p.useState("0"),[f,b]=p.useState(null),[m,d]=p.useState(null),[g,s]=p.useState(!1),[S,y]=p.useState(h.config.scientific),i=a=>{g?(c(String(a)),s(!1)):c(n==="0"?String(a):n+a)},M=()=>{g?(c("0."),s(!1)):n.indexOf(".")===-1&&c(n+".")},v=()=>{c("0"),b(null),d(null),s(!1)},r=a=>{const e=parseFloat(n);if(f===null)b(e);else if(m){const k=w(f||0,e,m);c(String(k)),b(k)}s(!0),d(a)},w=(a,e,l)=>{switch(l){case"+":return a+e;case"-":return a-e;case"×":return a*e;case"÷":return a/e;case"=":return e;default:return e}},o=a=>{const e=parseFloat(n);let l;switch(a){case"sin":l=Math.sin(e*Math.PI/180);break;case"cos":l=Math.cos(e*Math.PI/180);break;case"tan":l=Math.tan(e*Math.PI/180);break;case"log":l=Math.log10(e);break;case"ln":l=Math.log(e);break;case"sqrt":l=Math.sqrt(e);break;case"x²":l=e*e;break;case"1/x":l=1/e;break;case"π":l=Math.PI;break;case"e":l=Math.E;break;default:l=e}c(String(l)),s(!0)},C=()=>{n.length>1?c(n.slice(0,-1)):c("0")},F=[{label:"C",action:v,color:"error"},{label:"±",action:()=>c(String(-parseFloat(n))),color:"secondary"},{label:"%",action:()=>c(String(parseFloat(n)/100)),color:"secondary"},{label:"÷",action:()=>r("÷"),color:"primary"},{label:"7",action:()=>i("7")},{label:"8",action:()=>i("8")},{label:"9",action:()=>i("9")},{label:"×",action:()=>r("×"),color:"primary"},{label:"4",action:()=>i("4")},{label:"5",action:()=>i("5")},{label:"6",action:()=>i("6")},{label:"-",action:()=>r("-"),color:"primary"},{label:"1",action:()=>i("1")},{label:"2",action:()=>i("2")},{label:"3",action:()=>i("3")},{label:"+",action:()=>r("+"),color:"primary"},{label:"0",action:()=>i("0"),span:2},{label:".",action:M},{label:"=",action:()=>r("="),color:"primary"}],z=[{label:"sin",action:()=>o("sin")},{label:"cos",action:()=>o("cos")},{label:"tan",action:()=>o("tan")},{label:"log",action:()=>o("log")},{label:"ln",action:()=>o("ln")},{label:"√",action:()=>o("sqrt")},{label:"x²",action:()=>o("x²")},{label:"1/x",action:()=>o("1/x")},{label:"π",action:()=>o("π")},{label:"e",action:()=>o("e")}];return t.jsxs(x,{className:"calculator-widget",sx:{p:1,height:"100%"},children:[t.jsx(B,{elevation:1,sx:{p:2,mb:1,backgroundColor:h.config.theme==="dark"?"#333":"#fff",color:h.config.theme==="dark"?"#fff":"#000"},children:t.jsx(O,{variant:"h4",align:"right",sx:{fontFamily:"monospace",minHeight:"1.5em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})}),t.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[t.jsx(P,{control:t.jsx(W,{checked:S,onChange:a=>y(a.target.checked),size:"small"}),label:"Scientific",sx:{fontSize:"0.75rem"}}),t.jsx(q,{size:"small",onClick:C,children:t.jsx(E,{fontSize:"small"})})]}),S&&t.jsx(x,{sx:{mb:1},children:t.jsx(u,{container:!0,spacing:.5,children:z.map((a,e)=>t.jsx(u,{item:!0,xs:2.4,children:t.jsx(j,{fullWidth:!0,size:"small",variant:"outlined",onClick:a.action,sx:{minWidth:0,fontSize:"0.7rem",py:.5},children:a.label})},e))})}),t.jsx(u,{container:!0,spacing:.5,children:F.map((a,e)=>t.jsx(u,{item:!0,xs:a.span||3,children:t.jsx(j,{fullWidth:!0,variant:a.color?"contained":"outlined",color:a.color,onClick:a.action,sx:{minWidth:0,aspectRatio:a.span?"2/1":"1/1",fontSize:"1rem"},children:a.label})},e))})]})};export{D as default};
