import{c as C,j as e,g as J,a as Q,r as l,u as X,y as q,z as G,f as Y,s as Z,h as M,i as _,D as ee,E as te,m as se,d as U,k as V,B as r,T as k,o as oe,H,I as N,J as ae,L as ne,p as le,t as ie,K as re,M as ce,v as de,w as P,N as pe,O as xe,Q as me,U as he,V as ue,X as fe,x as W}from"./index-ChCuRpyn.js";const je=C(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),ge=C(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Ce=C(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function ye(s){return Q("MuiCheckbox",s)}const $=J("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ve=s=>{const{classes:o,indeterminate:n,color:c,size:m}=s,h={root:["root",n&&"indeterminate",`color${M(c)}`,`size${M(m)}`]},u=_(h,ye,o);return{...o,...u}},ke=Z(ee,{shouldForwardProp:s=>te(s)||s==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:n}=s;return[o.root,n.indeterminate&&o.indeterminate,o[`size${M(n.size)}`],n.color!=="default"&&o[`color${M(n.color)}`]]}})(se(({theme:s})=>({color:(s.vars||s).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:U(s.palette.action.active,s.palette.action.hoverOpacity)}}},...Object.entries(s.palette).filter(V()).map(([o])=>({props:{color:o,disableRipple:!1},style:{"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[o].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:U(s.palette[o].main,s.palette.action.hoverOpacity)}}})),...Object.entries(s.palette).filter(V()).map(([o])=>({props:{color:o},style:{[`&.${$.checked}, &.${$.indeterminate}`]:{color:(s.vars||s).palette[o].main},[`&.${$.disabled}`]:{color:(s.vars||s).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),be=e.jsx(ge,{}),Se=e.jsx(je,{}),ze=e.jsx(Ce,{}),Ie=l.forwardRef(function(o,n){const c=X({props:o,name:"MuiCheckbox"}),{checkedIcon:m=be,color:h="primary",icon:u=Se,indeterminate:d=!1,indeterminateIcon:f=ze,inputProps:b,size:j="medium",disableRipple:p=!1,className:S,slots:z={},slotProps:x={},...I}=c,w=d?f:u,T=d?f:m,y={...c,disableRipple:p,color:h,indeterminate:d,size:j},D=ve(y),v=x.input??b,[A,g]=q("root",{ref:n,elementType:ke,className:Y(D.root,S),shouldForwardComponentProp:!0,externalForwardedProps:{slots:z,slotProps:x,...I},ownerState:y,additionalProps:{type:"checkbox",icon:l.cloneElement(w,{fontSize:w.props.fontSize??j}),checkedIcon:l.cloneElement(T,{fontSize:T.props.fontSize??j}),disableRipple:p,slots:z,slotProps:{input:G(typeof v=="function"?v(y):v,{"data-indeterminate":d})}}});return e.jsx(A,{...g,classes:D})}),K=C(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),we=C(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Te=C(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),Pe=({widget:s})=>{const[o,n]=l.useState([{id:"1",text:"Complete project proposal",completed:!1,priority:"high",createdAt:new Date},{id:"2",text:"Review team feedback",completed:!0,priority:"medium",createdAt:new Date,completedAt:new Date},{id:"3",text:"Update documentation",completed:!1,priority:"low",createdAt:new Date}]),[c,m]=l.useState(""),[h,u]=l.useState(null),[d,f]=l.useState(""),[b,j]=l.useState(null),[p,S]=l.useState(null),[z,x]=l.useState(!1),I=()=>{if(c.trim()){const t={id:Date.now().toString(),text:c.trim(),completed:!1,priority:"medium",createdAt:new Date};n(a=>[t,...a]),m("")}},w=t=>{n(a=>a.map(i=>i.id===t?{...i,completed:!i.completed,completedAt:i.completed?void 0:new Date}:i))},T=t=>{n(a=>a.filter(i=>i.id!==t))},y=t=>{u(t),f(t.text),x(!0)},D=()=>{h&&d.trim()&&(n(t=>t.map(a=>a.id===h.id?{...a,text:d.trim()}:a)),x(!1),u(null),f(""))},v=(t,a)=>{n(i=>i.map(E=>E.id===t?{...E,priority:a}:E))},A=(t,a)=>{j(t.currentTarget),S(a)},g=()=>{j(null),S(null)},B=t=>{switch(t){case"high":return"#f44336";case"medium":return"#ff9800";case"low":return"#4caf50";default:return"#9e9e9e"}},R=s.config.showCompleted?o:o.filter(t=>!t.completed),L=R.slice(0,s.config.maxItems),O=o.filter(t=>t.completed).length,F=o.length;return e.jsxs(r,{sx:{p:0,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(r,{sx:{mb:2},children:[e.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsxs(k,{variant:"subtitle2",children:["Tasks (",O,"/",F,")"]}),e.jsx(oe,{size:"small",label:`${Math.round(O/F*100)||0}%`,color:"primary",variant:"outlined"})]}),e.jsxs(r,{display:"flex",gap:1,children:[e.jsx(H,{fullWidth:!0,size:"small",placeholder:"Add new task...",value:c,onChange:t=>m(t.target.value),onKeyPress:t=>t.key==="Enter"&&I()}),e.jsx(N,{size:"small",onClick:I,color:"primary",children:e.jsx(ae,{})})]})]}),e.jsxs(r,{sx:{p:1,flex:1,overflow:"auto"},children:[e.jsx(ne,{dense:!0,children:L.map(t=>e.jsxs(le,{sx:{px:0,opacity:t.completed?.6:1,"&:hover":{backgroundColor:"action.hover",borderRadius:1}},children:[e.jsx(Ie,{edge:"start",checked:t.completed,onChange:()=>w(t.id),size:"small",icon:e.jsx(Te,{}),checkedIcon:e.jsx(K,{})}),e.jsx(ie,{primary:t.text,secondary:e.jsxs(r,{display:"flex",alignItems:"center",gap:1,mt:.5,children:[e.jsx(r,{width:8,height:8,borderRadius:"50%",bgcolor:B(t.priority)}),e.jsxs(k,{variant:"caption",color:"textSecondary",children:[t.priority," priority"]}),t.completed&&t.completedAt&&e.jsxs(k,{variant:"caption",color:"textSecondary",children:["â€¢ Completed ",t.completedAt.toLocaleDateString()]})]}),primaryTypographyProps:{style:{textDecoration:t.completed?"line-through":"none"}}}),e.jsx(re,{children:e.jsx(N,{size:"small",onClick:a=>A(a,t.id),children:e.jsx(ce,{fontSize:"small"})})})]},t.id))}),L.length===0&&e.jsxs(r,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,children:[e.jsx(K,{sx:{fontSize:48,color:"action.disabled",mb:1}}),e.jsx(k,{color:"textSecondary",children:o.length===0?"No tasks yet":"All tasks completed!"})]}),R.length>s.config.maxItems&&e.jsxs(k,{variant:"caption",color:"textSecondary",sx:{p:1},children:["+",R.length-s.config.maxItems," more tasks"]})]}),e.jsxs(de,{anchorEl:b,open:!!b,onClose:g,children:[e.jsxs(P,{onClick:()=>{const t=o.find(a=>a.id===p);t&&y(t),g()},children:[e.jsx(we,{fontSize:"small",sx:{mr:1}}),"Edit"]}),e.jsxs(P,{disabled:!0,children:[e.jsx(pe,{fontSize:"small",sx:{mr:1}}),"Priority"]}),["high","medium","low"].map(t=>e.jsxs(P,{onClick:()=>{p&&v(p,t),g()},sx:{pl:4},children:[e.jsx(r,{width:8,height:8,borderRadius:"50%",bgcolor:B(t),mr:1}),t.charAt(0).toUpperCase()+t.slice(1)]},t)),e.jsxs(P,{onClick:()=>{p&&T(p),g()},sx:{color:"error.main"},children:[e.jsx(xe,{fontSize:"small",sx:{mr:1}}),"Delete"]})]}),e.jsxs(me,{open:z,onClose:()=>x(!1),children:[e.jsx(he,{children:"Edit Task"}),e.jsx(ue,{children:e.jsx(H,{autoFocus:!0,fullWidth:!0,multiline:!0,rows:3,value:d,onChange:t=>f(t.target.value),sx:{mt:1}})}),e.jsxs(fe,{children:[e.jsx(W,{onClick:()=>x(!1),children:"Cancel"}),e.jsx(W,{onClick:D,variant:"contained",children:"Save"})]})]})]})};export{Pe as default};
