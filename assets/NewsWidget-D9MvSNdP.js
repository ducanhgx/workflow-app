import{g as $,a as B,b as j,d as w,r as h,u as H,e as F,j as e,s as W,f as P,h as I,i as E,T as d,m as O,k as U,l as M,c as T,B as l,C as G,n as S,o as q,I as L,M as _,L as J,p as Q,q as K,A as X,t as Y,v as Z,w as D,R as ee}from"./index-ChCuRpyn.js";function te(t){return B("MuiLink",t)}const ne=$("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),se=({theme:t,ownerState:s})=>{const r=s.color,o=j(t,`palette.${r}.main`,!1)||j(t,`palette.${r}`,!1)||s.color,i=j(t,`palette.${r}.mainChannel`)||j(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:w(o,.4)},z={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},re=t=>{const{classes:s,component:r,focusVisible:o,underline:i}=t,u={root:["root",`underline${I(i)}`,r==="button"&&"button",o&&"focusVisible"]};return E(u,te,s)},oe=W(d,{name:"MuiLink",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,s[`underline${I(r.underline)}`],r.component==="button"&&s.button]}})(O(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(U()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[s].mainChannel} / 0.4)`:w(t.palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:w(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:w(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ne.focusVisible}`]:{outline:"auto"}}}]}))),ie=h.forwardRef(function(s,r){const o=H({props:s,name:"MuiLink"}),i=F(),{className:u,color:a="primary",component:f="a",onBlur:y,onFocus:p,TypographyClasses:v,underline:g="always",variant:b="inherit",sx:n,...x}=o,[c,k]=h.useState(!1),N=m=>{M(m.target)||k(!1),y&&y(m)},R=m=>{M(m.target)&&k(!0),p&&p(m)},C={...o,color:a,component:f,focusVisible:c,underline:g,variant:b},V=re(C);return e.jsx(oe,{color:a,className:P(V.root,u),classes:v,component:f,onBlur:N,onFocus:R,ref:r,ownerState:C,variant:b,...x,sx:[...z[a]===void 0?[{color:a}]:[],...Array.isArray(n)?n:[n]],style:{...x.style,...g==="always"&&a!=="inherit"&&!z[a]&&{"--Link-underlineColor":se({theme:i,ownerState:C})}}})}),A=T(e.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),ae=T([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),ce=({widget:t})=>{const[s,r]=h.useState(!0),[o,i]=h.useState([]),[u,a]=h.useState(null),f=[{id:"1",title:"Tech Giants Report Strong Q4 Earnings",description:"Major technology companies exceeded expectations in their quarterly reports...",url:"#",source:"TechNews",publishedAt:new Date(Date.now()-1e3*60*30),category:"technology"},{id:"2",title:"Climate Summit Reaches Historic Agreement",description:"World leaders agree on ambitious climate targets for the next decade...",url:"#",source:"Global Times",publishedAt:new Date(Date.now()-1e3*60*60*2),category:"environment"},{id:"3",title:"New Medical Breakthrough in Cancer Research",description:"Scientists discover promising new treatment method with 90% success rate...",url:"#",source:"Medical Journal",publishedAt:new Date(Date.now()-1e3*60*60*4),category:"health"},{id:"4",title:"Stock Markets Hit Record Highs",description:"Global markets continue their upward trend as investors remain optimistic...",url:"#",source:"Financial Times",publishedAt:new Date(Date.now()-1e3*60*60*6),category:"business"},{id:"5",title:"Space Mission Successfully Lands on Mars",description:"Latest rover mission provides new insights into the red planet...",url:"#",source:"Space News",publishedAt:new Date(Date.now()-1e3*60*60*8),category:"science"}];h.useEffect(()=>{const n=setTimeout(()=>{i(f.slice(0,t.config.maxItems)),r(!1)},1e3);return()=>clearTimeout(n)},[t.config.maxItems]);const y=n=>{a(n.currentTarget)},p=()=>{a(null)},v=()=>{r(!0),setTimeout(()=>{i([...f].slice(0,t.config.maxItems)),r(!1)},1e3),p()},g=n=>{const c=Math.floor((new Date().getTime()-n.getTime())/(1e3*60));return c<60?`${c}m ago`:c<1440?`${Math.floor(c/60)}h ago`:`${Math.floor(c/1440)}d ago`},b=n=>({technology:"#2196f3",business:"#4caf50",health:"#f44336",science:"#9c27b0",environment:"#8bc34a",sports:"#ff9800",entertainment:"#e91e63",politics:"#607d8b"})[n]||"#9e9e9e";return s?e.jsxs(l,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:2,children:[e.jsx(G,{size:32}),e.jsx(d,{variant:"body2",color:"textSecondary",children:"Loading latest news..."})]}):e.jsxs(l,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:1,borderColor:"divider",children:[e.jsxs(l,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(S,{color:"primary"}),e.jsx(d,{variant:"h6",sx:{fontSize:"1rem"},children:"Latest News"}),e.jsx(q,{size:"small",label:t.config.category,color:"primary",variant:"outlined"})]}),e.jsx(L,{size:"small",onClick:y,children:e.jsx(_,{})})]}),e.jsxs(l,{sx:{flex:1,overflow:"auto"},children:[e.jsx(J,{dense:!0,children:o.map((n,x)=>e.jsxs(Q,{sx:{borderBottom:x<o.length-1?1:0,borderColor:"divider",alignItems:"flex-start",py:1.5},children:[e.jsx(K,{children:e.jsx(X,{sx:{bgcolor:b(n.category),width:32,height:32},children:e.jsx(S,{fontSize:"small"})})}),e.jsx(Y,{primary:e.jsx(ie,{href:n.url,target:"_blank",rel:"noopener noreferrer",color:"inherit",underline:"hover",sx:{display:"block",fontWeight:500,fontSize:"0.875rem",lineHeight:1.3,mb:.5},children:n.title}),secondary:e.jsxs(l,{children:[e.jsx(d,{variant:"body2",color:"textSecondary",sx:{fontSize:"0.75rem",lineHeight:1.3,mb:.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.description}),e.jsxs(l,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(d,{variant:"caption",color:"textSecondary",sx:{fontSize:"0.7rem"},children:n.source}),e.jsxs(l,{display:"flex",alignItems:"center",gap:.5,children:[e.jsx(ae,{sx:{fontSize:12},color:"disabled"}),e.jsx(d,{variant:"caption",color:"textSecondary",sx:{fontSize:"0.7rem"},children:g(n.publishedAt)})]})]})]})}),e.jsx(L,{size:"small",href:n.url,target:"_blank",rel:"noopener noreferrer",sx:{mt:.5},children:e.jsx(A,{fontSize:"small"})})]},n.id))}),o.length===0&&e.jsxs(l,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,children:[e.jsx(S,{sx:{fontSize:48,color:"action.disabled",mb:1}}),e.jsx(d,{color:"textSecondary",children:"No news available"})]})]}),e.jsxs(Z,{anchorEl:u,open:!!u,onClose:p,children:[e.jsxs(D,{onClick:v,children:[e.jsx(ee,{fontSize:"small",sx:{mr:1}}),"Refresh News"]}),e.jsxs(D,{onClick:p,children:[e.jsx(A,{fontSize:"small",sx:{mr:1}}),"View All News"]})]})]})};export{ce as default};
